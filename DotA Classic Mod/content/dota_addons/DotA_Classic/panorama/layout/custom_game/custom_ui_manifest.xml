<root> 
	<scripts>
	</scripts>

	<script>
		GameEvents.Subscribe("CreateIngameErrorMessage", function(data) 
		{
			GameEvents.SendEventClientSide("dota_hud_error_message", 
			{
				"splitscreenplayer": 0,
				"reason": data.reason || 80,
				"message": data.message
			})
		})
<!--
		GameUI.CustomUIConfig().team_colors = {}
		GameUI.CustomUIConfig().team_names = {}

		GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_GOODGUYS] = "#08640E;"; // Format this later using rgbtohex lib, and taking team color in settings.lua
		GameUI.CustomUIConfig().team_colors[DOTATeam_t.DOTA_TEAM_BADGUYS ] = "#640808;"; // Format this later using rgbtohex lib, and taking team color in settings.lua

		GameUI.CustomUIConfig().team_names[DOTATeam_t.DOTA_TEAM_GOODGUYS] = "The Sentinel";		// BF0824 Hex for name color only
		GameUI.CustomUIConfig().team_names[DOTATeam_t.DOTA_TEAM_BADGUYS] = "The Scourge";		// 298C17 Hex for name color only
-->
		// fix for battlepass button being in middle of the way of clock time until
		var Parent = $.GetContextPanel().GetParent().GetParent()
		var hudElements = Parent.FindChildTraverse("HUDElements")

		HidePickScreen();
		EnableCustomUI();

		var PreGame = Parent.FindChildTraverse("PreGame")

		function HidePickScreen() {
			if (!Game.GameStateIs(3)) {
				if (PreGame)
					PreGame.style.opacity = "0";

				$.Schedule(0.25, HidePickScreen)
			}
			else {
				if (PreGame)
					PreGame.style.opacity = "1";				
			}
		}

		function EnableCustomUI() {
			if (!Game.GameStateIsAfter(5)) {
				$.Schedule(0.25, EnableCustomUI)
			}
			else {
				var team = "Radiant";

				if (Game.GetLocalPlayerInfo(Players.GetLocalPlayer()).player_team_id == 3)
					team = "Dire";

				var container = Parent.FindChildTraverse("TopBar" + team + "PlayersContainer");

				for (var i = 0; i < container.GetChildCount(); i++) {
					var health = container.GetChild(i).FindChildTraverse("HealthBar");
					var mana = container.GetChild(i).FindChildTraverse("ManaBar");

					health.style.opacity = 1;
					mana.style.opacity = 1;

					health.style.transform = "translateY(11px)";
					mana.style.transform = "translateY(11px)";
				}			
			}
		}
	</script>

	<Panel>
		<!-- CustomUIElements go here.-->

		<CustomUIElement type="Hud" layoutfile="file://{resources}/layout/custom_game/barebones_notifications.xml" />
	</Panel>
</root>
